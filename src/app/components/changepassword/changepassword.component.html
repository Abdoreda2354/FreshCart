<section class=" form" >
    <div class="w-75 mx-auto bg-main-light shadow p-5 section">
        <h2 class="text-center">Forget Passweord</h2>
        <form [formGroup]="changePassword" (ngSubmit)="change()">
            <div class="mb-3">
                <div class="input-container">
                    <label for="currentPassword">Current Password:</label>
                    <input [type]="changeType==false? 'password':'text' " id="currentPassword" class="form-control" formControlName="currentPassword" placeholder="Your current Password..." >
                    <span class="icon" (click)="viewPass()">
                        <i [class]="visible==true? 'fa-solid fa-eye':'fa-solid fa-eye-slash' "></i>
                    </span>
                </div>
                <div class="mt-3" *ngIf="changePassword.get('currentPassword')?.errors &&(changePassword.get('currentPassword')?.touched ||changePassword.get('currentPassword')?.value.length>0)">
                    <p class="alert alert-danger p-2" *ngIf="changePassword.get('currentPassword')?.getError('required')"> current Password is required</p>                    
                </div>
            </div>
            <div class="mb-3">
                <div class="input-container">
                    <label for="Password"> Password:</label>
                    <input [type]="changeType1==false? 'password':'text' " id="Password" class="form-control" formControlName="password" placeholder="Your Password..." >
                    <span class="icon" (click)="viewPass1()">
                        <i [class]="visible1==true? 'fa-solid fa-eye':'fa-solid fa-eye-slash' "></i>
                    </span>
                </div>
                <div class="mt-3" *ngIf="changePassword.get('password')?.errors &&(changePassword.get('password')?.touched ||changePassword.get('password')?.value.length>0)">
                    <p class="alert alert-danger p-2" *ngIf="changePassword.get('password')?.getError('required')"> current Password is required</p>
                    <p class="alert alert-danger p-2" *ngIf="changePassword.get('password')?.getError('pattern')">must be<br>
                        * Start with a letter (either uppercase or lowercase).<br>
                        * Be between 6 and 9 characters in total.<br>
                        * Can only contain letters (A-Z or a-z) and numbers (0-9)</p>
                    
                </div>
            </div>

            <div class="mb-3">
                <div class="input-container">
                    <label for="RePassword"> RePassword:</label>
                    <input [type]="changeType2==false? 'password':'text' " id="RePassword" class="form-control" formControlName="rePassword"  placeholder="Your Password..." >
                    <span class="icon" (click)="viewPass2()">
                        <i [class]="visible2==true? 'fa-solid fa-eye':'fa-solid fa-eye-slash' "></i>
                    </span>
                </div>
                <div class="mt-3" *ngIf="changePassword.get('rePassword')?.errors &&(changePassword.get('rePassword')?.touched ||changePassword.get('rePassword')?.value.length>0)">
                    <p class="alert alert-danger p-2" *ngIf="changePassword.get('rePassword')?.getError('required')"> current Password is required</p>
                    <p class="alert alert-danger p-2" *ngIf="changePassword.get('rePassword')?.getError('mismatch')">  RePassword confirmation is incorrect</p>
                    
                </div>
            </div>
            <button class="main-btn mt-3 w-100" [disabled]="changePassword.invalid" >change <i *ngIf="isLoading" class="fa-solid fa-spinner fa-spin"></i></button>
            <!-- <p class="alert alert-success p-2 mt-3 text-center w-50 m-auto " *ngIf="updateSuccess">{{updateSuccess}}</p> -->
            <p class="alert alert-danger p-2 mt-3 text-center w-50 m-auto " *ngIf="errMessage">{{errMessage}}</p>
        </form>
    </div>
</section>

